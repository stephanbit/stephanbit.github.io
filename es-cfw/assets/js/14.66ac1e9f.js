(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{154:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("Then at the very least, read about:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://facebook.github.io/jest/docs/en/expect.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jest's matchers"),e("OutboundLink")],1),t._v(" for examples of other assertions you can make")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://facebook.github.io/jest/docs/en/asynchronous.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Testing async code"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://facebook.github.io/jest/docs/en/setup-teardown.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Setup and teardown"),e("OutboundLink")],1)])]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),e("p",[t._v("This may seem strange at first, but it makes poor test coverage obvious from a glance, even for those less familiar with the project.\nIt also lowers the barrier to adding tests before creating a new file, adding a new feature, or fixing a bug.")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),e("p",[t._v("Jest offers many tools for mocks, including:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://facebook.github.io/jest/docs/en/mock-functions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("For a function"),e("OutboundLink")],1),t._v(", use "),e("code",[t._v("jest.fn()")]),t._v(".")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://facebook.github.io/jest/docs/en/manual-mocks.html#mocking-user-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("For a source file"),e("OutboundLink")],1),t._v(", add the mock to a "),e("code",[t._v("__mocks__")]),t._v(" directory adjacent to the file.")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://facebook.github.io/jest/docs/en/manual-mocks.html#mocking-node-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("For a dependency in "),e("code",[t._v("node_modules")]),e("OutboundLink")],1),t._v(", add the mock to "),e("code",[t._v("tests/unit/__mocks__")]),t._v(". You can see an example of this with the "),e("code",[t._v("axios")]),t._v(" mock, which intercepts requests with relative URLs to either "),e("a",{attrs:{href:"#the-mock-api"}},[t._v("our mock API")]),t._v(" or a local/live API if the "),e("code",[t._v("API_BASE_URL")]),t._v(" environment variable is set.")])]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),e("p",[t._v("Cypress offers many advantages over other test frameworks, including the abilities to:")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://docs.cypress.io/guides/core-concepts/introduction-to-cypress.html#Cypress-Is-Simple",target:"_blank",rel:"noopener noreferrer"}},[t._v("Core Concepts"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://docs.cypress.io/guides/references/best-practices.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Best Practices"),e("OutboundLink")],1)])]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._m(22),t._v(" "),e("p",[t._v("Ideally, tests should only fail when either:")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),e("p",[t._v("But rather:")]),t._v(" "),t._m(28),t._m(29),t._v(" "),e("p",[t._v("Now, some will be thinking:")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),e("p",[t._v('For example, let\'s imagine you replaced "Log in" with an icon:')]),t._v(" "),t._m(32),e("p",[t._v("Now users browsing your page with a screen reader will have no way to find the login link. From their perspective, this is just a link with no content. You may be tempted to try to fix the test with something like:")]),t._v(" "),t._m(33),e("p",[t._v("But when you're trying to find a login link as a user, you don't just inspect the destination of unlabeled links until you find one that looks like it's possibly a login page. That would be a very slow and painful experience!")]),t._v(" "),e("p",[t._v("Instead, thinking from a user's perspective forces you to stay accessible, perhaps updating your generated HTML to:")]),t._v(" "),t._m(34),e("p",[t._v("Then the selector in your test can update as well:")]),t._v(" "),t._m(35),e("p",[t._v("And the app now works for everyone:")]),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),e("p",[t._v("Working against the production API can be useful sometimes, but it also has some disadvantages:")]),t._v(" "),t._m(39),t._v(" "),e("p",[t._v("The mock API is an "),e("a",{attrs:{href:"https://expressjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express"),e("OutboundLink")],1),t._v(" server in "),e("code",[t._v("tests/mock-api")]),t._v(" you can extend to - you guessed it - mock what the real API would do, solving all the problems listed above. This solution is also backend-agnostic, making it ideal for a wide variety of projects.")]),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),e("p",[t._v("Or similarly, with a live server:")]),t._v(" "),t._m(43)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"tests-and-mocking-the-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tests-and-mocking-the-api","aria-hidden":"true"}},[this._v("#")]),this._v(" Tests and Mocking the API")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("a",{attrs:{href:"#tests-and-mocking-the-api"}},[t._v("Tests and Mocking the API")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#running-all-tests"}},[t._v("Running all Tests")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#unit-tests-with-jest"}},[t._v("Unit Tests with Jest")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#running-unit-tests"}},[t._v("Running Unit Tests")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#introduction-to-jest"}},[t._v("Introduction to Jest")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#unit-test-files"}},[t._v("Unit Test Files")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#unit-test-helpers"}},[t._v("Unit Test Helpers")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#unit-test-mocks"}},[t._v("Unit Test Mocks")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#end-to-end-tests-with-cypress"}},[t._v("End-to-End Tests with Cypress")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#running-end-to-end-tests"}},[t._v("Running end-to-end Tests")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#introduction-to-cypress"}},[t._v("Introduction to Cypress")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#accessibility-driven-end-to-end-tests"}},[t._v("Accessibility-driven end-to-end Tests")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#the-mock-api"}},[t._v("The Mock API")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#testingdeveloping-against-a-real-server"}},[t._v("Testing/Developing against a real Server")])])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"running-all-tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-all-tests","aria-hidden":"true"}},[this._v("#")]),this._v(" Running all Tests")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token comment"}},[this._v("# Run all tests")]),this._v("\nyarn "),s("span",{attrs:{class:"token function"}},[this._v("test")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"unit-tests-with-jest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unit-tests-with-jest","aria-hidden":"true"}},[this._v("#")]),this._v(" Unit Tests with Jest")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"running-unit-tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-unit-tests","aria-hidden":"true"}},[this._v("#")]),this._v(" Running Unit Tests")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token comment"}},[this._v("# Run unit tests")]),this._v("\nyarn unit\n\n"),s("span",{attrs:{class:"token comment"}},[this._v("# Run unit tests in watch mode")]),this._v("\nyarn unit:watch\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"introduction-to-jest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction-to-jest","aria-hidden":"true"}},[this._v("#")]),this._v(" Introduction to Jest")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("For unit tests, we use Jest with the "),s("code",[this._v("describe")]),this._v("/"),s("code",[this._v("expect")]),this._v(" syntax. If you're not familiar with Jest, I recommend first browsing through the existing tests to get a sense for them.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"unit-test-files"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unit-test-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Unit Test Files")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Configuration for Jest is in "),s("code",[this._v("jest.config.js")]),this._v(", support files are in "),s("code",[this._v("tests/unit")]),this._v(", but as for the tests themselves - they're first-class citizens.\nThat means they live alongside our source files, using the same name as the file they test, but with the extension "),s("code",[this._v(".unit.js")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"unit-test-helpers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unit-test-helpers","aria-hidden":"true"}},[this._v("#")]),this._v(" Unit Test Helpers")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("See "),s("a",{attrs:{href:"../tests/unit/setup.js"}},[s("code",[this._v("tests/unit/setup.js")])]),this._v(" for a list of helpers, including documentation in comments.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"unit-test-mocks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unit-test-mocks","aria-hidden":"true"}},[this._v("#")]),this._v(" Unit Test Mocks")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"end-to-end-tests-with-cypress"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#end-to-end-tests-with-cypress","aria-hidden":"true"}},[this._v("#")]),this._v(" End-to-End Tests with Cypress")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"running-end-to-end-tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-end-to-end-tests","aria-hidden":"true"}},[this._v("#")]),this._v(" Running end-to-end Tests")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token comment"}},[this._v("# Run end to end tests")]),this._v("\nyarn e2e\n\n"),s("span",{attrs:{class:"token comment"}},[this._v("# Run the dev server with the Cypress client")]),this._v("\nyarn dev:e2e\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"introduction-to-cypress"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction-to-cypress","aria-hidden":"true"}},[this._v("#")]),this._v(" Introduction to Cypress")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Travel through time to dissect the source of a problem when a test fails")]),this._v(" "),s("li",[this._v("Automatically record video and screenshots of your tests")]),this._v(" "),s("li",[this._v("Easily test in a wide range of screen sizes")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("And much more! I recommend checking out our Cypress tests in "),s("code",[this._v("tests/e2e/specs")]),this._v(", then reading through at least these sections of the excellent Cypress docs:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Beyond that, also know that you can access our app in Cypress on the "),s("code",[this._v("window")]),this._v(". For example, to dispatch a Vuex action that sets up some state:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("cy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("window")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("then")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window "),e("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" window"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__app__"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("dispatch")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'someModule/someAction'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"accessibility-driven-end-to-end-tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#accessibility-driven-end-to-end-tests","aria-hidden":"true"}},[this._v("#")]),this._v(" Accessibility-driven end-to-end Tests")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("something is actually broken, or")]),this._v(" "),s("li",[this._v("the requirements have changed")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Unfortunately, there are "),s("em",[this._v("a lot")]),this._v(" of ways to get this wrong. For example, when creating a selector for a login link:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("cy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'a'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// Too general, as there could be many links")]),t._v("\n\ncy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'.login-link'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// Tied to implementation detail of CSS")]),t._v("\n\ncy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'#login-link'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// Tied to implementation detail of JS and prevents component reusability")]),t._v("\n\ncy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("contains")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'Log in'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// Assumes the text only appears in one context")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("To create the right selector, think from the perspective of the user. What "),s("em",[this._v("exactly")]),this._v(" are they looking for? They're not looking for:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("cy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'a'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// Any link")]),t._v("\n\ncy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'.login-link'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// An element with a specific class")]),t._v("\n\ncy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'#login-link'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// An element with a specific id")]),t._v("\n\ncy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("contains")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'Log in'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v("// Specific text anywhere on the page")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("cy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("contains")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'a'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("'Log in'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v('// A link containing the text "Log in"')]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("Note that we're targeting a "),e("strong",[t._v("semantic element")]),t._v(", meaning that it tells the web browser (and users) something about the element's role within the page. Also note that we're trying to be "),e("strong",[t._v("as general as possible")]),t._v(". We're not looking for the link in a specific place, like a navbar or sidebar (unless that's part of the requirements), and we're not overly specific with the content. The link may also contain other content, like an icon, but that won't break the test, because we only care that "),e("em",[t._v("some link")]),t._v(' contains the text "Log in" '),e("em",[t._v("somewhere")]),t._v(" inside it.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("\"But isn't this brittle? Wouldn't it be better to add another attribute to the link, like "),s("code",[this._v('data-testid="login-link')]),this._v("? Then we could target that attribute and even if the element or content changes, the test won't break.\"")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("I would argue that if the link's semantic element or content changes so drastically that it's no longer an anchor and doesn't even contain the text \"Log in\" anymore, the requirements "),s("em",[this._v("have")]),this._v(" changed, so the test "),s("em",[this._v("should")]),this._v(" break. And from an accessibility perspective, the app might indeed be broken.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),e("span",{attrs:{class:"token attr-name"}},[t._v("href")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/login"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),e("span",{attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("icon icon-login"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("cy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'a[href=\"/login\"]'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v('// A link going to "/login"')]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v("\n  "),e("span",{attrs:{class:"token attr-name"}},[t._v("aria-label")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Log in"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),e("span",{attrs:{class:"token attr-name"}},[t._v("href")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/login"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v("\n    "),e("span",{attrs:{class:"token attr-name"}},[t._v("aria-hidden")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),e("span",{attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("icon icon-login"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("cy"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token keyword"}},[t._v("get")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("'a[aria-label*=\"Log in\"]'")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{attrs:{class:"token comment"}},[t._v('// A link with a label containing the text "Log in"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v('Sighted users will see an icon that they\'ll (hopefully) have the cultural context to interpret as "Log in".')]),this._v(" "),s("li",[this._v('Non-sighted users get a label with the text "Log in" read to them.')])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This strategy could be called "),s("strong",[this._v("accessibility-driven end-to-end tests")]),this._v(", because you're parsing your own app with the same mindset as your users. It happens to be great for accessibility, but also helps to ensure that your app always breaks when requirements change, but never when you've just changed the implementation.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"the-mock-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#the-mock-api","aria-hidden":"true"}},[this._v("#")]),this._v(" The Mock API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Networks requests are slow, which slows down both development and testing.")]),this._v(" "),s("li",[this._v("Development and testing become dependent on a stable network connection.")]),this._v(" "),s("li",[this._v("Hitting the production API often means modifying the production database, which you typically don't want to do during automated tests.")]),this._v(" "),s("li",[this._v("To work on a frontend feature, the backend for it must already be complete.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"testing-developing-against-a-real-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#testing-developing-against-a-real-server","aria-hidden":"true"}},[this._v("#")]),this._v(" Testing/Developing against a real Server")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("In some situations, you might prefer to test against a local server while developing, or maybe just during continuous integration. To do so, you can run any development or test command with the "),s("code",[this._v("API_BASE_URL")]),this._v(" environment variable. For example:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("API_BASE_URL"),s("span",{attrs:{class:"token operator"}},[this._v("=")]),this._v("http://localhost:3000 yarn "),s("span",{attrs:{class:"token function"}},[this._v("test")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("API_BASE_URL"),s("span",{attrs:{class:"token operator"}},[this._v("=")]),this._v("https://staging.example.io yarn "),s("span",{attrs:{class:"token function"}},[this._v("test")]),this._v("\n")])])])}],!1,null,null,null);a.options.__file="tests.md";s.default=a.exports}}]);